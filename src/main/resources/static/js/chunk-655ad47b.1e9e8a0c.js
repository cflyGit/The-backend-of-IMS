(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655ad47b"],{"6a00":function(t,e,r){"use strict";var a=r("75fa"),i=r.n(a);i.a},"75fa":function(t,e,r){},8615:function(t,e,r){t.exports=r.p+"img/page_000001.11fd0b5c.png"},c24f:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"e",(function(){return s})),r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return c})),r.d(e,"f",(function(){return o})),r.d(e,"d",(function(){return u}));var a=r("e20a");function i(t){return Object(a["b"])({url:t,method:"get"})}function s(t){return Object(a["b"])({url:t,method:"get"})}function n(t){return Object(a["b"])({url:t,method:"get"})}function c(t,e){return Object(a["b"])({url:"/"+t+"/insert",method:"post",data:e})}function o(t,e){return Object(a["b"])({url:"/"+t+"/update",method:"post",data:e})}function u(t,e){return Object(a["b"])({url:t,method:"post",data:e})}},e651:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0!==t.current_project.length?a("div",[a("a-row",[a("a-col",{staticClass:"edit-left",attrs:{span:12}},[a("a-descriptions",{attrs:{title:t.current_project.name,bordered:""}},[a("a-descriptions-item",{attrs:{label:"项目编号"}},[t._v(" "+t._s(t.current_project.project_id)+" ")]),a("a-descriptions-item",{attrs:{label:"项目基地",span:2}},[t._v(" "+t._s(t.current_project.base)+" ")]),a("a-descriptions-item",{attrs:{label:"申请时间"}},[t._v(" "+t._s(t.current_project.application_time)+" ")]),a("a-descriptions-item",{attrs:{label:"审核时间",span:2}},[t._v(" "+t._s(t.current_project.audit_time)+" ")]),a("a-descriptions-item",{attrs:{label:"签订时间"}},[t._v(" "+t._s(t.current_project.signed_time)+" ")]),a("a-descriptions-item",{attrs:{label:"发布时间",span:2}},[t._v(" "+t._s(t.current_project.publish_time)+" ")]),a("a-descriptions-item",{attrs:{label:"结束时间"}},[t._v(" "+t._s(t.current_project.finished_time)+" ")]),a("a-descriptions-item",{attrs:{label:"状态",span:2}},[a("a-badge",{attrs:{status:"processing",text:t.number2title[t.current_project.status]+"中"}})],1),a("a-descriptions-item",{attrs:{label:"已招人数/招收人数",span:3}},[t._v(" "+t._s(t.current_project.recoreded)+"/"+t._s(t.current_project.number)+" ")]),null!=t.current_project.tags?a("a-descriptions-item",{attrs:{label:"标签",span:3}},t._l(t.current_project.tags.split("|"),(function(e){return a("a-tag",{key:e,attrs:{color:"grey"}},[t._v(" "+t._s(e)+" ")])})),1):t._e(),a("a-descriptions-item",{attrs:{label:"详细信息",span:2}},[t._v(" "+t._s(t.current_project.info)+" ")])],1),a("a-divider",[t._v("意见")]),a("a-row",[a("a-col",{attrs:{span:20}},[a("a-list",{attrs:{"item-layout":"horizontal"}},t._l(t.tab_pane_title,(function(e,r){return a("a-list-item",{key:r},[a("label",[t._v(t._s(e))]),[a("a-textarea",{attrs:{placeholder:e,autoSize:"",allowClear:"",disabled:t.number2title[t.current_project.status]!==e},model:{value:t.audit_comments[r],callback:function(e){t.$set(t.audit_comments,r,e)},expression:"audit_comments[index]"}})]],2)})),1),a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{label:"核对人"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["audit",{rules:[{required:!0,message:"核对人不能为空!"}]}],expression:"['audit',{rules: [{ required: true, message: '核对人不能为空!' }],}]"}],attrs:{placeholder:"核对人"}})],1)],1)],1),a("a-col",{staticClass:"timeline-wrapper",attrs:{span:4}},[a("a-timeline",{attrs:{mode:"right"}},t._l(t.tab_pane_title,(function(e,r){return a("a-timeline-item",{key:r,attrs:{color:t.pro_color(r)}},[t.title2number[r]==t.current_project.status?a("a-icon",{staticStyle:{"{font-size":"16px"},attrs:{slot:"dot",type:"clock-circle-o"},slot:"dot"}):t._e(),t._v(" "+t._s(e)+" ")],1)})),1)],1)],1),a("div",{staticClass:"agreeButton"},[a("a-button",{attrs:{type:"danger",icon:"close"},on:{click:t.handleDisagree}},[t._v(" 退回 ")]),a("a-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"primary",icon:"check"},on:{click:t.handleAgree}},[t._v(" 同意 ")])],1)],1),a("a-col",{staticClass:"edit-right",attrs:{span:12}},[a("div",{staticClass:"show_file"},[a("span",{staticClass:"right-title"},[t._v("项目文件")]),a("br"),t.hasPrePage?a("span",{on:{click:t.prePage}},[a("a-icon",{staticStyle:{fontSize:"20px",color:"white"},attrs:{type:"left"}})],1):t._e(),a("img",{attrs:{src:r("8615"),width:"80%"}}),t.hasNextPage?a("span",{on:{click:t.nextPage}},[t._v(" "),a("a-icon",{staticStyle:{fontSize:"20px",color:"white"},attrs:{type:"right"}})],1):t._e()])])],1)],1):a("div",[a("a-result",{attrs:{title:"还未添加项目!"},scopedSlots:t._u([{key:"icon",fn:function(){return[a("a-icon",{attrs:{type:"question"}})]},proxy:!0},{key:"extra",fn:function(){return[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handleImport}},[t._v(" 添加 ")])]},proxy:!0}])})],1)])},i=[],s=r("5530"),n=r("2f62"),c=r("c24f"),o={name:"yan-project-edit",data:function(){return{hasNextPage:!0,hasPrePage:!0,cur_file_index:0,file_list:["/img/page_000001.png"],form:this.$form.createForm(this,{name:"audit"})}},computed:Object(s["a"])({pro_color:function(){return function(t){var e={},r=0;for(var a in this.$store.getters.title2number)e[a]=r++;return this.$store.getters.current_project.status>e[t]?"green":this.$store.getters.current_project.status===e[t]?"red":"grey"}}},Object(n["b"])(["current_project","tab_pane_title","number2title","title2number","number2title_en","audit_info","audit_comments"])),methods:{handleAgree:function(){var t=this;this.form.validateFields((function(e,r){if(!e){var a={},i=t.number2title_en[t.current_project.status];a[i+"_comments"]=t.audit_comments[i],a[i+"_reviewer"]=r["audit"],a["project_id"]=t.current_project.project_id,Object(c["f"])("audit",a).then((function(e){!0===e.success&&t.$message.success("操作成功！")}))}}))},handleDisagree:function(){var t=this;Object(c["d"])("audit/statusBack",this.audit_info).then((function(e){!0===e.success&&t.$message.success("操作成功")}))},handleImport:function(){this.$router.push("/project/dashboard"),this.$store.commit("updateBread","/project/dashboard")},nextPage:function(){this.cur_file_index++,this.cur_file_index===this.file_list.length&&(this.hasNextPage=!1)},prePage:function(){this.cur_file_index--,0===this.cur_file_index&&(this.hasPrePage=!1)}}},u=o,l=(r("6a00"),r("2877")),p=Object(l["a"])(u,a,i,!1,null,"621692ff",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-655ad47b.1e9e8a0c.js.map